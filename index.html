<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rise of Color</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Loading overlay -->
  <div id="loading-overlay">
    <div class="spinner"></div>
    <div id="loading-message">Loading...</div>
  </div>

  <!-- Left info panel -->
  <div class="info-panel">
    <!-- All main content wrapped in info-panel-content -->
    <div class="info-panel-content">
      <!-- Header section -->
      <div>
        <h1 class="title">Rise of Color</h1>
        <p class="subtitle">Every unique hue ever captured</p>
        
        <div id="year-display">0</div>
        <div class="year-slider-container">
          <div class="slider-track">
            <span id="min-year">1850</span>
            <input 
              type="range" 
              id="year-slider" 
              min="1850" 
              max="2025" 
              value="1850"
            >
            <span id="max-year">2025</span>
            <button id="play-pause" class="time-control-btn play"></button>
          </div>
        </div>
        <div id="stats-container">
          <span id="total-colors">0</span>
          <span class="stats-label">Unique Colors Captured in Photos (since 1850)</span>
        </div>
      </div>
      
      <!-- Controls section -->
      <div class="controls-container">
        <div class="cluster-controls">
          <button id="toggle-clusters">Show Clusters</button>
          <select id="cluster-k" style="display: none;">
            <option value="4">4 Clusters</option>
            <option value="8">8 Clusters</option>
            <option value="16" selected>16 Clusters</option>
            <option value="32">32 Clusters</option>
            <option value="64">64 Clusters</option>
          </select>
        </div>
      </div>
    </div>
    
    <!-- Footer section - stays at bottom -->
    <div class="footer-info">
      <div class="credits">
        Created by: Tak Watanabe<br>
        Source: Photos from <a href="https://commons.wikimedia.org/wiki/Commons" target="_blank">Wikimedia Commons</a>
      </div>
    </div>
  </div>
  
  <!-- Right visualization area -->
  <div class="visualization">
    <!-- View controls -->
    <div class="visualization-controls" style="margin-bottom:10px">
      <div class="view-selector">
        <span class="view-label" style="margin-right:10px">View:</span>
        <button id="view-default">Default</button>
        <span class="view-divider">|</span>
        <button id="view-top">Top</button>
        <span class="view-divider">|</span>
        <button id="view-bottom">Bottom</button>
      </div>
    </div>
  </div>

  <!-- ThreeJS dependencies -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.149.0/build/three.module.js",
      "three/examples/jsm/controls/OrbitControls.js": "https://unpkg.com/three@0.149.0/examples/jsm/controls/OrbitControls.js",
      "three/examples/jsm/postprocessing/EffectComposer.js": "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/EffectComposer.js",
      "three/examples/jsm/postprocessing/RenderPass.js": "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js",
      "three/examples/jsm/postprocessing/ShaderPass.js": "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js"
    }
  }
  </script>
  
  <!-- Main application -->
  <script type="module" src="js/visualization.js"></script>
</body>
</html>